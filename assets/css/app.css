/* Clean Tailwind CSS - Systematic Dashboard
   Minimal, readable, accessible design
   ============================================= */

@import "tailwindcss" source(none);
@source "../css";
@source "../js";
@source "../../lib/dashboard_phoenix_web";

/* Heroicons plugin */
@plugin "../vendor/heroicons";

/* daisyUI plugin */
@plugin "../vendor/daisyui" {
  themes: false;
}

/* daisyUI theme - Dark */
@plugin "../vendor/daisyui-theme" {
  name: "dark";
  default: false;
  prefersdark: true;
  color-scheme: "dark";
  --color-base-100: oklch(18% 0.02 265);
  --color-base-200: oklch(22% 0.02 265);
  --color-base-300: oklch(26% 0.02 265);
  --color-base-content: oklch(92% 0.01 260);
  --color-primary: oklch(65% 0.2 280);
  --color-primary-content: oklch(98% 0 0);
  --color-secondary: oklch(65% 0.15 240);
  --color-secondary-content: oklch(98% 0 0);
  --color-accent: oklch(70% 0.15 320);
  --color-accent-content: oklch(98% 0 0);
  --color-neutral: oklch(30% 0.02 260);
  --color-neutral-content: oklch(90% 0 0);
  --color-info: oklch(65% 0.15 240);
  --color-info-content: oklch(98% 0 0);
  --color-success: oklch(70% 0.15 160);
  --color-success-content: oklch(98% 0 0);
  --color-warning: oklch(80% 0.15 70);
  --color-warning-content: oklch(15% 0 0);
  --color-error: oklch(65% 0.2 30);
  --color-error-content: oklch(98% 0 0);
  --radius-selector: 0.375rem;
  --radius-field: 0.375rem;
  --radius-box: 0.5rem;
  --border: 1px;
}

/* daisyUI theme - Light */
@plugin "../vendor/daisyui-theme" {
  name: "light";
  default: true;
  prefersdark: false;
  color-scheme: "light";
  --color-base-100: oklch(99% 0 0);
  --color-base-200: oklch(97% 0.005 265);
  --color-base-300: oklch(94% 0.008 265);
  --color-base-content: oklch(25% 0.02 265);
  --color-primary: oklch(55% 0.2 280);
  --color-primary-content: oklch(98% 0 0);
  --color-secondary: oklch(50% 0.15 240);
  --color-secondary-content: oklch(98% 0 0);
  --color-accent: oklch(55% 0.15 320);
  --color-accent-content: oklch(98% 0 0);
  --color-neutral: oklch(45% 0.02 265);
  --color-neutral-content: oklch(98% 0 0);
  --color-info: oklch(55% 0.18 240);
  --color-info-content: oklch(98% 0 0);
  --color-success: oklch(55% 0.18 160);
  --color-success-content: oklch(98% 0 0);
  --color-warning: oklch(70% 0.18 70);
  --color-warning-content: oklch(15% 0 0);
  --color-error: oklch(55% 0.22 25);
  --color-error-content: oklch(98% 0 0);
  --radius-selector: 0.375rem;
  --radius-field: 0.375rem;
  --radius-box: 0.5rem;
  --border: 1px;
}

/* LiveView variants */
@custom-variant phx-click-loading (.phx-click-loading&, .phx-click-loading &);
@custom-variant phx-submit-loading (.phx-submit-loading&, .phx-submit-loading &);
@custom-variant phx-change-loading (.phx-change-loading&, .phx-change-loading &);

/* Dark mode variant */
@custom-variant dark (&:where([data-theme=dark], [data-theme=dark] *));

/* Make LiveView wrapper divs transparent */
[data-phx-session], [data-phx-teleported-src] { display: contents }

/* =====================================================
   BASE STYLES
   ===================================================== */

body {
  font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  line-height: 1.6;
}

/* =====================================================
   PANEL SYSTEM - Clean, flat panels (no rounded corners)
   ===================================================== */

/* Base panel styles */
.panel {
  @apply bg-base-200 border border-base-300;
  @apply transition-colors duration-200;
}

/* Panel priorities - minimal visual weight differences */
.panel-priority-high {
  @apply bg-base-200 border border-base-300;
}

.panel-priority-medium {
  @apply bg-base-200 border border-base-300;
}

.panel-priority-compact {
  @apply bg-base-200/80 border border-base-300;
}

/* Panel accents - disabled by default, keep classes for compatibility */
.panel-accent-critical,
.panel-accent-active,
.panel-accent-reference {
  /* No colored borders - panels are uniform */
}

/* Panel collapsed state */
.panel-collapsed {
  min-height: unset !important;
}

/* Panel data container - for scrollable content areas */
.panel-data {
  @apply bg-base-200 border border-base-300;
}

/* =====================================================
   PANEL STATUS INDICATORS - Subtle left border only
   ===================================================== */

/* Panel status classes - no colored borders, panels are uniform */
.panel-status-error,
.panel-status-warning,
.panel-status-working,
.panel-status-loading,
.panel-status-urgent,
.panel-status-success,
.panel-status-idle {
  /* Colored left borders removed for cleaner look */
}

/* =====================================================
   PANEL HEADERS - Interactive collapsible headers
   ===================================================== */

.panel-header-interactive {
  @apply cursor-pointer transition-colors duration-150;
  @apply py-4 px-5; /* Increased header padding for better breathing room */
}

.panel-header-interactive:hover {
  @apply bg-gray-100 dark:bg-gray-700/50;
}

.panel-header-critical,
.panel-header-standard,
.panel-header-compact {
  @apply font-semibold text-gray-900 dark:text-gray-100;
}

.panel-header-critical {
  @apply text-lg;
}

.panel-header-standard {
  @apply text-base;
}

.panel-header-compact {
  @apply text-sm;
}

/* Panel chevron */
.panel-chevron {
  @apply transition-transform duration-200 text-gray-400;
}

.panel-chevron.collapsed {
  transform: rotate(-90deg);
}

/* Panel icon */
.panel-icon {
  @apply text-gray-400 dark:text-gray-500;
}

/* =====================================================
   STATUS INDICATORS - Simple dots and badges
   ===================================================== */

/* Status beacon - pulsing dot for active state */
.status-beacon {
  @apply w-3 h-3 rounded-full;
  animation: beacon-pulse 2s ease-in-out infinite;
}

@keyframes beacon-pulse {
  0%, 100% { opacity: 1; transform: scale(1); }
  50% { opacity: 0.7; transform: scale(1.1); }
}

/* Simple status marker */
.status-marker {
  @apply w-2 h-2 rounded-full;
}

.status-marker-idle {
  @apply opacity-50;
}

/* Activity ring spinner */
.status-activity-ring {
  @apply w-4 h-4 rounded-full border-2 border-transparent border-t-current border-r-current;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

/* =====================================================
   TYPOGRAPHY CLASSES
   ===================================================== */

.text-system-title {
  @apply text-2xl font-bold tracking-wide text-gray-900 dark:text-gray-100;
}

.text-section-header {
  @apply text-lg font-semibold text-gray-900 dark:text-gray-100;
}

.text-panel-label {
  @apply text-sm font-semibold uppercase tracking-wide text-gray-700 dark:text-gray-300;
}

.text-ui-label {
  @apply text-sm font-medium text-gray-700 dark:text-gray-300;
}

.text-ui-value {
  @apply font-mono text-sm text-gray-900 dark:text-gray-100;
}

.text-ui-body {
  @apply text-base text-gray-700 dark:text-gray-300;
}

.text-ui-caption {
  @apply text-sm text-gray-500 dark:text-gray-400;
}

.text-ui-micro {
  @apply text-xs text-gray-500 dark:text-gray-400;
}

/* =====================================================
   GLASS MORPHISM - Simple semi-transparent panels
   ===================================================== */

.glass-panel {
  @apply bg-base-100/90 backdrop-blur-sm;
  @apply border border-base-300;
}

.glass-morphism {
  @apply bg-base-100/95 backdrop-blur-sm;
  @apply border border-base-300;
}

.glass-header {
  @apply bg-base-100/95 backdrop-blur-sm;
  @apply border-b border-base-300 sticky top-0 z-50;
}

/* =====================================================
   ENHANCED HEADER SYSTEM
   ===================================================== */

.header-container {
  @apply bg-base-100/95 backdrop-blur-md;
  @apply border-b border-base-300;
  @apply sticky top-0 z-50;
  @apply transition-shadow duration-200;
}

.header-container:hover {
  @apply shadow-sm;
}

.header-inner {
  @apply flex items-center justify-between;
  @apply px-5 sm:px-8 lg:px-10; /* Increased horizontal padding */
  @apply h-16 sm:h-18; /* Increased header height for better proportion */
  @apply mx-auto max-w-[2000px];
}

/* Header Left Section - Logo & Breadcrumb */
.header-left {
  @apply flex items-center gap-4 sm:gap-6; /* Increased spacing */
}

.header-brand {
  @apply flex items-center gap-2.5;
}

.header-logo-link {
  @apply flex items-center;
  @apply transition-opacity duration-150;
}

.header-logo-link:hover {
  @apply opacity-80;
}

.header-logo-link:focus-visible {
  @apply outline-2 outline-offset-2 outline-primary rounded;
}

.header-logo {
  @apply text-lg sm:text-xl font-bold tracking-widest;
  @apply text-gray-900 dark:text-gray-100;
  letter-spacing: 0.15em;
}

/* Health Indicator - Subtle dot */
.health-indicator {
  @apply w-2 h-2 rounded-full flex-shrink-0;
  @apply transition-colors duration-200;
}

.health-indicator-healthy {
  @apply bg-green-500;
  box-shadow: 0 0 6px rgba(34, 197, 94, 0.4);
}

.health-indicator-unhealthy {
  @apply bg-red-500;
  animation: health-pulse 1s ease-in-out infinite;
}

.health-indicator-checking {
  @apply bg-yellow-500;
  animation: health-pulse 1.5s ease-in-out infinite;
}

.health-indicator-unknown {
  @apply bg-gray-400;
}

/* Breadcrumb Navigation */
.header-breadcrumb {
  @apply flex items-center gap-2;
  @apply text-sm text-gray-500 dark:text-gray-400;
}

.breadcrumb-separator {
  @apply text-gray-300 dark:text-gray-600 select-none;
}

.breadcrumb-current {
  @apply font-medium text-gray-600 dark:text-gray-300;
}

/* Header Right Section - Stats & Controls */
.header-right {
  @apply flex items-center gap-4 sm:gap-6; /* Increased spacing */
}

/* Stats Bar */
.header-stats {
  @apply hidden sm:flex items-center gap-5; /* Increased gap between stats */
  @apply px-4 py-2; /* Increased padding */
  @apply bg-base-200/60 dark:bg-base-200/40;
  @apply border border-base-300/50;
  @apply rounded-lg;
}

.stat-item {
  @apply flex items-center gap-2;
}

.stat-label {
  @apply text-xs font-medium uppercase tracking-wider;
  @apply text-gray-500 dark:text-gray-400;
}

.stat-value {
  @apply text-sm font-bold font-mono tabular-nums;
}

.stat-value-success {
  @apply text-green-600 dark:text-green-400;
}

.stat-value-primary {
  @apply text-blue-600 dark:text-blue-400;
}

.stat-divider {
  @apply w-px h-4 bg-base-300;
}

.stat-status {
  @apply text-base leading-none;
}

.stat-status-online {
  @apply text-green-500;
}

.stat-status-offline {
  @apply text-gray-400;
}

/* Agent Badge */
.agent-badge {
  @apply inline-flex items-center gap-1.5;
  @apply px-2.5 py-1;
  @apply text-xs font-semibold;
  @apply rounded-md;
  @apply transition-colors duration-150;
}

.agent-badge-icon {
  @apply text-sm;
}

.agent-badge-text {
  @apply hidden sm:inline;
}

.agent-badge-opencode {
  @apply bg-blue-500/15 text-blue-600 dark:text-blue-400;
  @apply border border-blue-500/20;
}

.agent-badge-claude {
  @apply bg-purple-500/15 text-purple-600 dark:text-purple-400;
  @apply border border-purple-500/20;
}

.agent-badge-gemini {
  @apply bg-emerald-500/15 text-emerald-600 dark:text-emerald-400;
  @apply border border-emerald-500/20;
}

.agent-badge-unknown {
  @apply bg-gray-500/15 text-gray-600 dark:text-gray-400;
  @apply border border-gray-500/20;
}

/* Theme Toggle Button */
.header-theme-toggle {
  @apply flex items-center justify-center;
  @apply w-9 h-9 sm:w-10 sm:h-10;
  @apply rounded-lg;
  @apply bg-base-200/60 hover:bg-base-300;
  @apply border border-base-300/50 hover:border-base-300;
  @apply transition-all duration-150;
  @apply active:scale-95;
}

.header-theme-toggle:focus-visible {
  @apply outline-2 outline-offset-2 outline-primary;
}

.header-theme-toggle .sun-icon,
.header-theme-toggle .moon-icon {
  @apply w-5 h-5;
}

.header-theme-toggle .sun-icon {
  @apply text-amber-500;
}

.header-theme-toggle .moon-icon {
  @apply text-indigo-400;
}

/* Responsive: Extra small screens */
@media (max-width: 480px) {
  .header-inner {
    @apply px-3;
  }
  
  .header-logo {
    @apply text-base;
  }
  
  .header-breadcrumb {
    @apply hidden;
  }
}

/* =====================================================
   HEALTH BADGE - Dashboard status indicator
   ===================================================== */

.health-badge {
  @apply inline-block w-2.5 h-2.5 rounded-full flex-shrink-0;
}

.health-badge-healthy {
  @apply bg-green-500;
}

.health-badge-unhealthy {
  @apply bg-red-500;
}

.health-badge-checking {
  @apply bg-yellow-500;
  animation: health-pulse 1.5s ease-in-out infinite;
}

@keyframes health-pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}

.health-badge-unknown {
  @apply bg-gray-400;
}

/* =====================================================
   THROBBER - Loading spinner
   ===================================================== */

.throbber {
  @apply w-4 h-4 rounded-full border-2;
  border-color: rgba(251, 191, 36, 0.3);
  border-top-color: rgb(251, 191, 36);
  animation: spin 0.8s linear infinite;
}

.throbber-small {
  @apply w-2 h-2 rounded-full border;
  border-color: rgba(251, 191, 36, 0.3);
  border-top-color: rgb(251, 191, 36);
  animation: spin 0.8s linear infinite;
}

/* =====================================================
   BUTTONS - Interactive elements
   ===================================================== */

.btn-interactive-icon {
  @apply inline-flex items-center justify-center gap-2; /* Increased gap */
  @apply min-w-[48px] min-h-[48px] px-4 py-3; /* Increased padding for better touch targets */
  @apply text-sm font-medium;
  @apply transition-colors duration-150;
  @apply hover:bg-gray-100 dark:hover:bg-gray-700;
  @apply rounded-md;
}

.btn-interactive-sm {
  @apply inline-flex items-center justify-center gap-1;
  @apply min-w-[44px] min-h-[32px] px-2.5 py-1.5;
  @apply text-xs font-semibold uppercase;
  @apply transition-colors duration-150;
  @apply hover:bg-gray-100 dark:hover:bg-gray-700;
  @apply rounded-md;
}

.btn-interactive-close {
  @apply inline-flex items-center justify-center;
  @apply min-w-[44px] min-h-[44px] p-2;
  @apply transition-colors duration-150;
  @apply hover:bg-gray-100 dark:hover:bg-gray-700;
  @apply rounded-md;
}

/* =====================================================
   AGENT CARDS GRID
   ===================================================== */

/* Auto-fill grid: cards size themselves based on available space */
.agent-cards-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
  gap: 0.75rem;
}

/* When only 1-2 agents, don't stretch cards too wide */
.agent-cards-grid:has(> :nth-child(1):last-child),
.agent-cards-grid:has(> :nth-child(2):last-child) {
  grid-template-columns: repeat(auto-fill, minmax(320px, 480px));
}

.agent-card {
  @apply flex flex-col p-4;
  @apply bg-base-200/80 border;
  @apply transition-all duration-300 ease-out;
  border-color: oklch(var(--bc) / 0.08);
}

.agent-card:hover {
  @apply bg-base-300/60;
  transform: translateY(-1px);
  box-shadow: 0 4px 12px oklch(0 0 0 / 0.2);
}

/* --- State-driven card styling --- */
.agent-card[data-state="running"] {
  border-color: oklch(var(--su) / 0.5);
  box-shadow: 0 0 0 1px oklch(var(--su) / 0.15), 0 2px 8px oklch(var(--su) / 0.08);
}

.agent-card[data-state="running"]:hover {
  box-shadow: 0 0 0 1px oklch(var(--su) / 0.25), 0 4px 16px oklch(var(--su) / 0.12);
}

.agent-card[data-state="completed"] {
  @apply opacity-70;
  border-color: oklch(var(--in) / 0.25);
}

.agent-card[data-state="completed"]:hover {
  @apply opacity-90;
}

.agent-card[data-state="failed"] {
  border-color: oklch(var(--er) / 0.5);
  box-shadow: 0 0 0 1px oklch(var(--er) / 0.15);
}

.agent-card[data-state="idle"] {
  border-color: oklch(var(--wa) / 0.5);
  @apply opacity-75;
}

.agent-card[data-state="idle"]:hover {
  @apply opacity-100;
}

/* --- Card inner elements --- */
.agent-card-header {
  @apply flex items-center justify-between gap-3 mb-2;
}

.agent-card-icon {
  @apply text-sm flex-shrink-0;
}

.agent-card-name {
  @apply font-semibold text-sm text-base-content;
  @apply overflow-hidden text-ellipsis whitespace-nowrap;
  letter-spacing: -0.01em;
}

.agent-card-badges {
  @apply flex items-center gap-1.5 flex-shrink-0 flex-wrap;
}

.agent-card-task {
  @apply text-xs leading-relaxed mt-2;
  color: oklch(var(--bc) / 0.55);
  @apply line-clamp-2;
}

/* --- Details section --- */
.agent-card-details {
  will-change: max-height, opacity;
}

.agent-card-details.max-h-0 {
  padding-top: 0 !important;
  margin-top: 0 !important;
}

.agent-card:focus-visible {
  @apply outline-2 outline-offset-2;
  outline-color: oklch(var(--p));
}

/* =====================================================
   SECTION HEADERS - Category groupings
   ===================================================== */

.section-core-work,
.section-agent-status,
.section-system-config {
  @apply bg-base-200/50 border border-base-300;
  @apply rounded-lg;
  @apply mb-8; /* Added bottom margin for better section separation */
}

/* No colored left borders - sections are uniform */
.section-core-work,
.section-agent-status,
.section-system-config {
  /* Keep classes for compatibility but no special styling */
}

/* Section internal spacing enhancement */
.section-core-work > .space-y-5,
.section-agent-status > .space-y-5,
.section-system-config > .space-y-5 {
  @apply mt-2;
}

/* =====================================================
   SKELETON LOADING
   ===================================================== */

.skeleton {
  @apply bg-base-300;
  animation: skeleton-shimmer 1.5s ease-in-out infinite;
}

.skeleton-text {
  @apply inline-block min-h-[1em] bg-gray-200 dark:bg-gray-700 rounded;
  animation: skeleton-shimmer 1.5s ease-in-out infinite;
}

@keyframes skeleton-shimmer {
  0% { opacity: 1; }
  50% { opacity: 0.5; }
  100% { opacity: 1; }
}

/* Loading ellipsis */
.loading-ellipsis::after {
  content: '';
  animation: ellipsis 1.5s steps(4) infinite;
}

@keyframes ellipsis {
  0% { content: ''; }
  25% { content: '.'; }
  50% { content: '..'; }
  75% { content: '...'; }
}

/* =====================================================
   ACCORDION / COLLAPSIBLE PANELS
   ===================================================== */

.accordion-content {
  @apply overflow-hidden transition-all duration-300 ease-out;
}

.accordion-content.accordion-collapsed {
  max-height: 0 !important;
  opacity: 0;
  padding-top: 0 !important;
  padding-bottom: 0 !important;
}

.accordion-content.accordion-expanded {
  opacity: 1;
}

.accordion-chevron {
  @apply transition-transform duration-200;
}

.accordion-chevron.accordion-closed {
  transform: rotate(-90deg);
}

.accordion-chevron.accordion-open {
  transform: rotate(0deg);
}

/* =====================================================
   FOCUS STATES - Accessibility
   ===================================================== */

/* Enhanced focus visible for all interactive elements */
button:focus-visible,
a:focus-visible,
[role="button"]:focus-visible,
input:focus-visible,
select:focus-visible,
textarea:focus-visible,
[tabindex]:focus-visible {
  @apply outline-2 outline-offset-2;
  outline-color: oklch(65% 0.25 280);
  outline-style: solid;
}

/* High contrast focus for dark mode */
[data-theme="dark"] button:focus-visible,
[data-theme="dark"] a:focus-visible,
[data-theme="dark"] [role="button"]:focus-visible,
[data-theme="dark"] input:focus-visible,
[data-theme="dark"] select:focus-visible,
[data-theme="dark"] textarea:focus-visible,
[data-theme="dark"] [tabindex]:focus-visible {
  outline-color: oklch(75% 0.2 280);
  box-shadow: 0 0 0 4px rgba(139, 92, 246, 0.2);
}

/* Focus within for container elements */
.panel-header-interactive:focus-within {
  @apply bg-base-300/50;
}

/* Skip link */
.skip-link {
  @apply absolute -left-[9999px] w-px h-px overflow-hidden;
}

.skip-link:focus {
  @apply fixed top-2 left-2 w-auto h-auto p-2 px-4;
  @apply bg-gray-900 text-blue-400 border-2 border-blue-500;
  @apply rounded-md z-[9999] text-sm font-bold;
}

/* Screen reader only */
.sr-only {
  @apply absolute w-px h-px p-0 -m-px overflow-hidden whitespace-nowrap;
  clip: rect(0, 0, 0, 0);
  border-width: 0;
}

/* Focus not-sr-only helper - use when you need to show something only on focus */
.sr-only-focusable:focus,
.sr-only-focusable:active {
  position: static;
  width: auto;
  height: auto;
  margin: 0;
  overflow: visible;
  clip: auto;
  white-space: normal;
}

/* =====================================================
   LIVE REGION ANNOUNCEMENTS - For screen readers
   ===================================================== */

/* Visually hidden but announced by screen readers */
.live-region-polite {
  @apply sr-only;
}

.live-region-assertive {
  @apply sr-only;
}

/* Status announcement container */
#status-announcer {
  @apply sr-only;
}

/* =====================================================
   MINIMUM TEXT SIZE - Accessibility requirement
   Ensures no text is smaller than 12px (0.75rem)
   ===================================================== */

/* Override any text that might be too small */
.text-ui-micro {
  @apply text-xs text-gray-600 dark:text-gray-400;
  /* text-xs is 12px by default in Tailwind - this is our minimum */
}

/* Ensure captions are readable */
.text-ui-caption {
  @apply text-sm text-gray-600 dark:text-gray-400;
}

/* =====================================================
   KEYBOARD NAVIGATION HELPERS
   ===================================================== */

/* Ensure all interactive elements have visible focus */
.keyboard-focusable:focus-visible {
  @apply outline-2 outline-offset-2;
  outline-color: oklch(65% 0.25 280);
  outline-style: solid;
}

/* Focus ring for dark backgrounds */
.focus-ring-light:focus-visible {
  @apply ring-2 ring-white ring-offset-2 ring-offset-gray-900;
}

/* Indicates clickable elements for keyboard users */
[role="button"],
[tabindex="0"] {
  cursor: pointer;
}

/* =====================================================
   TEXT CONTRAST FIXES - WCAG 2.1 AA Compliant
   ===================================================== */

/* Boost low opacity text for accessibility - minimum 4.5:1 contrast ratio */
.text-base-content\/30 {
  @apply text-gray-500 dark:text-gray-400;
}

.text-base-content\/40 {
  @apply text-gray-500 dark:text-gray-400;
}

.text-base-content\/50 {
  @apply text-gray-600 dark:text-gray-300;
}

.text-base-content\/60 {
  @apply text-gray-600 dark:text-gray-300;
}

.text-white\/60,
.text-white\/70 {
  @apply text-gray-700 dark:text-gray-200;
}

/* Light mode text overrides */
[data-theme="light"] .text-white {
  @apply text-gray-900;
}

/* =====================================================
   ACCESSIBLE STATUS INDICATORS - Color + Pattern/Icon
   For colorblind users, use patterns/icons alongside colors
   ===================================================== */

/* Status success - checkmark pattern */
.status-success::before {
  content: "✓ ";
}

/* Status error - X pattern */
.status-error::before {
  content: "✗ ";
}

/* Status warning - exclamation pattern */
.status-warning::before {
  content: "! ";
}

/* Status info - info pattern */
.status-info::before {
  content: "ℹ ";
}

/* Accessible status badges with icons */
.a11y-status-success {
  @apply bg-green-500/20 text-green-600 dark:text-green-400;
}

.a11y-status-success::before {
  content: "✓ ";
}

.a11y-status-error {
  @apply bg-red-500/20 text-red-600 dark:text-red-400;
}

.a11y-status-error::before {
  content: "✗ ";
}

.a11y-status-warning {
  @apply bg-yellow-500/20 text-yellow-600 dark:text-yellow-400;
}

.a11y-status-warning::before {
  content: "⚠ ";
}

.a11y-status-pending {
  @apply bg-blue-500/20 text-blue-600 dark:text-blue-400;
}

.a11y-status-pending::before {
  content: "○ ";
}

/* =====================================================
   BACKGROUND CLASSES
   ===================================================== */

.bg-space {
  @apply bg-gray-50 dark:bg-gray-900 min-h-screen;
}

/* =====================================================
   PANEL ANIMATIONS - Reveal on load
   ===================================================== */

.panel-reveal {
  animation: panel-fade-in 0.3s ease-out forwards;
}

@keyframes panel-fade-in {
  from { opacity: 0; transform: translateY(8px); }
  to { opacity: 1; transform: translateY(0); }
}

/* Staggered delays */
.panel-reveal-1 { animation-delay: 0ms; }
.panel-reveal-2 { animation-delay: 50ms; }
.panel-reveal-3 { animation-delay: 100ms; }
.panel-reveal-4 { animation-delay: 150ms; }
.panel-reveal-5 { animation-delay: 200ms; }
.panel-reveal-6 { animation-delay: 250ms; }

/* Section reveals */
.section-reveal {
  animation: section-fade-in 0.3s ease-out forwards;
}

@keyframes section-fade-in {
  from { opacity: 0; transform: translateX(-8px); }
  to { opacity: 1; transform: translateX(0); }
}

.section-reveal-1 { animation-delay: 0ms; }
.section-reveal-2 { animation-delay: 100ms; }
.section-reveal-3 { animation-delay: 200ms; }

/* =====================================================
   STATUS TRANSITION ANIMATIONS
   ===================================================== */

.status-transition {
  @apply transition-colors duration-200;
}

.status-pulse {
  animation: status-pulse-anim 0.5s ease-out;
}

@keyframes status-pulse-anim {
  0% { box-shadow: 0 0 0 0 currentColor; }
  50% { box-shadow: 0 0 0 4px transparent; }
  100% { box-shadow: none; }
}

.badge-bounce {
  animation: badge-bounce-anim 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
}

@keyframes badge-bounce-anim {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.15); }
}

/* New item highlight */
.item-new-highlight {
  animation: new-highlight 0.5s ease-out;
}

@keyframes new-highlight {
  from { background-color: rgba(59, 130, 246, 0.2); }
  to { background-color: transparent; }
}

/* =====================================================
   BUTTON MICRO-INTERACTIONS
   ===================================================== */

.btn-press:active {
  transform: scale(0.97);
}

.icon-spin-once {
  animation: spin 0.5s ease-out;
}

/* =====================================================
   TOOLTIP
   ===================================================== */

.tooltip-reveal {
  @apply opacity-0 pointer-events-none;
  @apply transition-opacity duration-150;
  transform: translateY(4px);
}

.tooltip-trigger:hover .tooltip-reveal,
.tooltip-trigger:focus .tooltip-reveal {
  @apply opacity-100 pointer-events-auto;
  transform: translateY(0);
}

/* =====================================================
   REDUCED MOTION - Accessibility
   ===================================================== */

@media (prefers-reduced-motion: reduce) {
  .panel-reveal,
  .section-reveal,
  .status-beacon,
  .status-activity-ring,
  .throbber,
  .throbber-small,
  .skeleton,
  .skeleton-text,
  .health-badge-checking,
  .status-pulse,
  .badge-bounce,
  .item-new-highlight,
  .icon-spin-once {
    animation: none !important;
  }
  
  .panel-reveal,
  .section-reveal {
    opacity: 1;
    transform: none;
  }
  
  .accordion-content,
  .accordion-chevron,
  .status-transition {
    transition: none !important;
  }
}

/* =====================================================
   RESPONSIVE ADJUSTMENTS
   ===================================================== */

/* Mobile-first responsive breakpoints */
@media (max-width: 640px) {
  /* Grid layouts stack on mobile */
  .agent-cards-grid {
    grid-template-columns: 1fr;
  }
  
  .agent-card {
    @apply p-3;
  }
  
  /* Typography adjustments */
  .text-system-title {
    @apply text-xl;
  }
  
  .text-section-header {
    @apply text-base;
  }
  
  /* Touch-friendly button sizes - minimum 44x44px for accessibility */
  .btn-interactive-icon,
  .btn-interactive-sm,
  .btn-interactive-close,
  button,
  [role="button"] {
    min-height: 44px;
    min-width: 44px;
  }
  
  /* Panel headers need more tap area on mobile */
  .panel-header-interactive {
    padding: 1rem; /* Increased mobile padding */
    min-height: 52px; /* Slightly taller for better touch targets */
  }
  
  /* Reduce text sizes for compact mobile display */
  .text-ui-label {
    @apply text-xs;
  }
  
  .text-ui-caption {
    @apply text-xs;
  }
  
  .text-panel-label {
    @apply text-xs;
  }
  
  /* Section headers - more generous spacing even on mobile */
  .section-core-work,
  .section-agent-status,
  .section-system-config {
    @apply p-4; /* Increased mobile section padding */
  }
  
  /* Stats in header - stack or hide on very small screens */
  .header-stats {
    @apply hidden;
  }
  
  /* Glass header adjustments */
  .glass-header {
    @apply px-3 py-3;
  }
  
  /* Accordion content - tighter spacing on mobile */
  .accordion-content {
    @apply px-2;
  }
  
  /* Modal adjustments for mobile */
  .modal-box {
    @apply mx-2 max-w-[calc(100vw-1rem)];
  }
}

/* Extra small screens (< 480px) */
@media (max-width: 480px) {
  /* Even more compact typography */
  .text-system-title {
    @apply text-lg;
    letter-spacing: 0.1em;
  }
  
  /* Hide secondary labels */
  .text-ui-caption.mobile-hide,
  .stat-label {
    @apply hidden;
  }
  
  /* Stack stat items */
  .stat-item {
    @apply flex-col gap-0;
  }
  
  /* Generous panel padding even on mobile */
  .panel-priority-high,
  .panel-priority-medium,
  .panel-priority-compact {
    @apply p-3; /* Increased mobile panel padding */
  }
  
  /* Compact agent cards on small screens */
  .agent-card {
    @apply p-3;
  }
  
  .agent-card-name {
    @apply text-xs;
  }
  
  /* Maintain good spacing between elements on mobile */
  .space-y-4 {
    --tw-space-y-reverse: 0;
    margin-top: calc(0.75rem * calc(1 - var(--tw-space-y-reverse))); /* Increased mobile spacing */
    margin-bottom: calc(0.75rem * var(--tw-space-y-reverse));
  }
  
  .space-y-6 {
    --tw-space-y-reverse: 0;
    margin-top: calc(1rem * calc(1 - var(--tw-space-y-reverse))); /* Maintain spacing for improved layouts */
    margin-bottom: calc(1rem * var(--tw-space-y-reverse));
  }
}

/* Tablet breakpoint adjustments (641px - 1024px) */
@media (min-width: 641px) and (max-width: 1024px) {
  .agent-cards-grid {
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  }
  
  /* Two-column layout for larger tablets */
  .section-core-work,
  .section-agent-status,
  .section-system-config {
    @apply p-4;
  }
}

/* =====================================================
   MISC UTILITIES
   ===================================================== */

/* Loading dots */
.loading-dots {
  @apply inline-flex items-center gap-1.5;
}

.loading-dot {
  @apply w-2 h-2 rounded-full bg-current;
  animation: loading-dot-pulse 1.4s ease-in-out infinite;
}

.loading-dot:nth-child(1) { animation-delay: 0s; }
.loading-dot:nth-child(2) { animation-delay: 0.2s; }
.loading-dot:nth-child(3) { animation-delay: 0.4s; }

@keyframes loading-dot-pulse {
  0%, 80%, 100% { opacity: 0.3; transform: scale(0.8); }
  40% { opacity: 1; transform: scale(1); }
}

/* Signal strength indicator */
.status-signal {
  @apply flex items-end gap-0.5 h-3;
}

.status-signal-bar {
  @apply w-1 bg-current rounded-sm;
}

.status-signal-bar:nth-child(1) { height: 4px; }
.status-signal-bar:nth-child(2) { height: 8px; }
.status-signal-bar:nth-child(3) { height: 12px; }

.status-signal.signal-weak .status-signal-bar:nth-child(2),
.status-signal.signal-weak .status-signal-bar:nth-child(3) {
  @apply opacity-25;
}

.status-signal.signal-medium .status-signal-bar:nth-child(3) {
  @apply opacity-25;
}

/* Opacity fixes */
.opacity-40 { opacity: 0.6; }
.opacity-50 { opacity: 0.65; }

/* PR work indicator */
.animate-pulse-subtle {
  @apply border-purple-400;
}
